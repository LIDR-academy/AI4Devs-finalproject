# T12 — Frontend: Formulario mantenimiento

| Campo | Valor |
|-------|--------|
| **ID** | T12 |
| **Título** | Frontend: Formulario mantenimiento |
| **Historia(s)** | [MH4](../historias-usuario/MH4.md) |
| **Área** | Frontend |

## Descripción

Implementar el formulario "Añadir mantenimiento" en la ruta `/vehicle/:id/add-maintenance`, con campos tipo de mantenimiento (desplegable desde API), taller (desplegable), fecha, km, coste y opcionales. Enviar POST a `/api/maintenances` y manejar éxito y errores.

## Criterios de aceptación

- **AC1**: Ruta `/vehicle/:id/add-maintenance` con formulario que incluya: tipo de mantenimiento (select desde `GET /api/maintenance-types`), taller (select desde `GET /api/workshops`), fecha, km, coste, notas; opcional: próxima fecha, próximos km.
- **AC2**: Al enviar se llama a `POST /api/maintenances` con `vehicle_id` y el resto de campos; en éxito mensaje y redirección a detalle o historial.
- **AC3**: Errores de validación mostrados en el formulario; estado de carga durante el envío.
- **AC4**: El vehículo se identifica por el parámetro de ruta; se puede mostrar el nombre/matrícula del vehículo en la cabecera del formulario para contexto.

## Notas técnicas

- Página: `AddMaintenance.jsx`. API: `api.get('/maintenance-types')`, `api.get('/workshops')`, `api.post('/maintenances', { vehicle_id, ... })`.

---

[Índice de tickets](../tickets.md)
