# T15 — Gasolineras cercanas en repostaje (opcional)

| Campo | Valor |
|-------|--------|
| **ID** | T15 |
| **Título** | Gasolineras cercanas en repostaje (opcional) |
| **Historia(s)** | [SH2](../historias-usuario/SH2.md) |
| **Área** | Frontend (+ API ya existente) |

## Descripción

En el formulario de Añadir repostaje (o en un paso previo), permitir obtener la ubicación del usuario, llamar a `GET /api/gas-stations/nearby` y mostrar un listado o mapa de gasolineras con precios. Al seleccionar una, rellenar nombre/dirección y precio en el formulario.

## Criterios de aceptación

- **AC1**: En el flujo de añadir repostaje se puede solicitar la ubicación (navigator.geolocation o equivalente); con lat/lon se llama a `GET /api/gas-stations/nearby?latitude=...&longitude=...`.
- **AC2**: Se muestran las gasolineras con nombre, dirección (o municipio) y precios por tipo de combustible.
- **AC3**: Al seleccionar una gasolinera se rellenan en el formulario: nombre de la gasolinera (y opcionalmente dirección), precio por litro según el tipo de combustible elegido en el formulario.
- **AC4**: Si el usuario no concede ubicación, el formulario sigue funcionando sin bloqueos (datos manuales).
- **AC5**: Manejo de errores (API no disponible, sin resultados) con mensaje claro.

## Notas técnicas

- Endpoint público ya existe: `GET /api/gas-stations/nearby`. Frontend: integrar en `AddFuelRefill.jsx` o componente auxiliar; usar geolocation API del navegador.

---

[Índice de tickets](../tickets.md)
