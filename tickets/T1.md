# T1 — Backend: Proyecto Laravel, BD, migraciones y modelos

| Campo | Valor |
|-------|--------|
| **ID** | T1 |
| **Título** | Backend: Proyecto Laravel, BD, migraciones y modelos |
| **Historia(s)** | Base para MH1–MH5 |
| **Área** | Backend |

## Descripción

Configurar el proyecto Laravel, la conexión a base de datos (MySQL) y las migraciones con los modelos necesarios para el MVP: Company, User, Role, Vehicle, Brand, FuelRefill, Maintenance, MaintenanceType, Workshop, VehicleInsurance, VehicleITV, GasStation, etc. Incluye multi-tenant (company_id en tablas correspondientes), relaciones entre modelos y scopes base. Sin esta base, la API no puede operar.

## Criterios de aceptación

- **AC1**: Proyecto Laravel creado con `composer create-project`; configuración de BD en `.env` (DB_*).
- **AC2**: Migraciones para todas las tablas del modelo de datos: companies, users, roles, vehicles, brands, fuel_refills, maintenances, maintenance_types, workshops, vehicle_insurances, vehicle_itvs, gas_stations, api_keys, etc.
- **AC3**: Modelos Eloquent con relaciones definidas (belongsTo, hasMany según data-model); timestamps y convenciones Laravel.
- **AC4**: Modelos con scope por empresa (company_id) donde aplique; BaseModelCompany o trait equivalente para asignar company_id en creación.
- **AC5**: Seeders o datos mínimos para desarrollo (roles, permisos, opcionalmente empresa y usuario de prueba).
- **AC6**: `php artisan migrate` ejecuta sin errores; modelos accesibles desde tinker o tests.

## Notas técnicas

- Estructura en `flotiko_backend/`: app/Models/, database/migrations/. Documentación del modelo: ver data-model en ai-specs/specs.

---

[Índice de tickets](../tickets.md)
