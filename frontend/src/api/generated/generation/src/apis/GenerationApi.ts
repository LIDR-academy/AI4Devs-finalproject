// @ts-nocheck
/* tslint:disable */
/* eslint-disable */
/**
 * Meditation Builder - Generation API
 * API for generating meditation content with professional narration and synchronized subtitles.  Bounded Context: **Generation** (separate from Composition/US2 and Playback/US4)  Core capability: - Generate meditation content: Transform composed text + music (+ optional image)    into narrated video or audio with synchronized subtitles  Architecture: Hexagonal (Ports & Adapters) BDD-First, API-First approach  MVP Infrastructure: - TTS: Google Cloud Text-to-Speech (mocked with WireMock in tests) - Rendering: FFmpeg (video/audio) - Storage: S3 via LocalStack (tests) or AWS S3 (production) - Persistence: PostgreSQL (schema: generation, table: meditation)  Authentication: JWT (blocked by US1 - bypass in tests via TestSecurityConfig) 
 *
 * The version of the OpenAPI document: 1.0.0
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import * as runtime from '../runtime';
import type {
  ErrorResponse,
  GenerateMeditationRequest,
  GenerationResponse,
} from '../models/index';
import {
    ErrorResponseFromJSON,
    ErrorResponseToJSON,
    GenerateMeditationRequestFromJSON,
    GenerateMeditationRequestToJSON,
    GenerationResponseFromJSON,
    GenerationResponseToJSON,
} from '../models/index';

export interface GenerateMeditationContentRequest {
    generateMeditationRequest: GenerateMeditationRequest;
}

export interface GetMeditationStatusRequest {
    meditationId: string;
}

/**
 * 
 */
export class GenerationApi extends runtime.BaseAPI {

    /**
     * Generate professional meditation content with: - High-quality narration from text (Google Cloud TTS) - Synchronized subtitles (SRT format) - Video output (if image provided): narration + music + image + burned subtitles - Audio output (if no image): narration + music, subtitles for future use  Processing time validation: - Estimates processing time before generation - Rejects requests exceeding 187s timeout with 408 error  Idempotency: - Same (userId, text, musicRef, imageRef) → same meditationId - Uses SHA-256 hash for deduplication  Storage: - S3 keys: `generation/{userId}/{meditationId}/(video.mp4|audio.mp3|subs.srt)` - Response includes presigned URLs (TTL configurable)  Maps to BDD scenarios: - Scenario 1: \"Generate narrated video with synchronized subtitles\" - Scenario 2: \"Generate narrated podcast\" - Scenario 3: \"Processing time exceeded\" 
     * Generate meditation content with narration
     */
    async generateMeditationContentRaw(requestParameters: GenerateMeditationContentRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<GenerationResponse>> {
        if (requestParameters['generateMeditationRequest'] == null) {
            throw new runtime.RequiredError(
                'generateMeditationRequest',
                'Required parameter "generateMeditationRequest" was null or undefined when calling generateMeditationContent().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("bearerAuth", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `${import.meta.env.VITE_API_BASE_URL}/generation/meditations`;

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: GenerateMeditationRequestToJSON(requestParameters['generateMeditationRequest']),
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => GenerationResponseFromJSON(jsonValue));
    }

    /**
     * Generate professional meditation content with: - High-quality narration from text (Google Cloud TTS) - Synchronized subtitles (SRT format) - Video output (if image provided): narration + music + image + burned subtitles - Audio output (if no image): narration + music, subtitles for future use  Processing time validation: - Estimates processing time before generation - Rejects requests exceeding 187s timeout with 408 error  Idempotency: - Same (userId, text, musicRef, imageRef) → same meditationId - Uses SHA-256 hash for deduplication  Storage: - S3 keys: `generation/{userId}/{meditationId}/(video.mp4|audio.mp3|subs.srt)` - Response includes presigned URLs (TTL configurable)  Maps to BDD scenarios: - Scenario 1: \"Generate narrated video with synchronized subtitles\" - Scenario 2: \"Generate narrated podcast\" - Scenario 3: \"Processing time exceeded\" 
     * Generate meditation content with narration
     */
    async generateMeditationContent(requestParameters: GenerateMeditationContentRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<GenerationResponse> {
        const response = await this.generateMeditationContentRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Poll generation status and retrieve download URLs when complete. Used for async generation workflow. 
     * Get meditation generation status
     */
    async getMeditationStatusRaw(requestParameters: GetMeditationStatusRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<GenerationResponse>> {
        if (requestParameters['meditationId'] == null) {
            throw new runtime.RequiredError(
                'meditationId',
                'Required parameter "meditationId" was null or undefined when calling getMeditationStatus().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("bearerAuth", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `${import.meta.env.VITE_API_BASE_URL}/generation/meditations/{meditationId}`;
        urlPath = urlPath.replace(`{${"meditationId"}}`, encodeURIComponent(String(requestParameters['meditationId'])));

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => GenerationResponseFromJSON(jsonValue));
    }

    /**
     * Poll generation status and retrieve download URLs when complete. Used for async generation workflow. 
     * Get meditation generation status
     */
    async getMeditationStatus(requestParameters: GetMeditationStatusRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<GenerationResponse> {
        const response = await this.getMeditationStatusRaw(requestParameters, initOverrides);
        return await response.value();
    }

}
