# Supabase Configuration
# Copy this file to .env and fill in your actual values

# Environment (development, staging, production)
ENVIRONMENT=development

# Your Supabase project URL (found in Settings → API → Project URL)
SUPABASE_URL=https://xxxxx.supabase.co

# Your Supabase service_role key (found in Settings → API → Project API keys → service_role)
# WARNING: Keep this secret! Do not commit .env file to git
SUPABASE_KEY=your-service-role-key-here

# PostgreSQL Connection String for direct database access to Supabase
# Found in: Settings → Database → Connection string → URI
# Format: postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres
# IMPORTANT: Always add ?sslmode=require for production security (encrypted connection)
SUPABASE_DATABASE_URL=postgresql://postgres:your-password@db.xxxxx.supabase.co:5432/postgres?sslmode=require

# CORS Configuration (comma-separated, no spaces)
# Development default allows Vite dev server and alternative ports
# Production example: ALLOWED_ORIGINS=https://sf-pm.example.com,https://dashboard.sf-pm.example.com
# SECURITY: Never use "*" with allow_credentials=True in production
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# Local Development Database (docker-compose db service)
# These credentials are for the local PostgreSQL container ONLY
# Generate secure passwords with: openssl rand -base64 32
DATABASE_USER=postgres
DATABASE_PASSWORD=your-secure-local-db-password-here
DATABASE_NAME=sfpm_db
# Full connection string for local development
DATABASE_URL=postgresql://${DATABASE_USER}:${DATABASE_PASSWORD}@db:5432/${DATABASE_NAME}

# Redis Authentication (docker-compose redis service)
# Generate secure password with: openssl rand -base64 24
# CRITICAL: Required for Celery task queue security
REDIS_PASSWORD=your-secure-redis-password-here

# Celery (Task Queue)
# Redis broker and result backend for asynchronous task processing
# Default values work with docker-compose setup (no changes needed for local dev)
CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@redis:6379/0
CELERY_RESULT_BACKEND=redis://:${REDIS_PASSWORD}@redis:6379/0
