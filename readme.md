## Índice

0. [Ficha del proyecto](#0-ficha-del-proyecto)
1. [Descripción general del producto](#1-general-product-description)
2. [Arquitectura del sistema](#2-system-architecture)
3. [Modelo de datos](#3-modelo-de-datos)
4. [Especificación de la API](#4-especificación-de-la-api)
5. [Historias de usuario](#5-historias-de-usuario)
6. [Tickets de trabajo](#6-tickets-de-trabajo)
7. [Pull requests](#7-pull-requests)

---

## 0. Ficha del proyecto

### **0.1. Tu nombre completo:**
   - **JESUS ALBERTO ABREU ALMONTE**

### **0.2. Nombre del proyecto:**
   - **VitaMind**

### **0.3. Descripción breve del proyecto:**
   - VitaMind is an advanced AI-powered healthcare application designed to help users manage their health records, receive personalized health coaching, and use a digital twin to simulate lifestyle changes. Aimed at people with chronic illnesses and health-conscious individuals, VitaMind leverages artificial intelligence to provide tailored health insights, daily wellness recommendations, and proactive chronic disease management.

### **0.4. URL del proyecto:**
   - **Pending!**

### 0.5. URL o archivo comprimido del repositorio
   - **[Final-Project-JAA](https://github.com/eltonina/finalproject-JAA)**

---

## 1. General Product Description

This section provides an in-depth overview of VitaMind, from its objectives and main features to user experience design and installation instructions.

### **1.1. Objective:**

   - **Purpose**: VitaMind aims to empower individuals to take charge of their health by providing a comprehensive platform for health records management, personalized health coaching, and chronic disease prevention. With VitaMind, users can keep track of personal health information, gain insights into their risk for common chronic diseases, and explore lifestyle adjustments that could enhance their wellbeing.
   
   - **Value Proposition**: VitaMind’s core value is in its AI-driven approach to personal health management. Unlike traditional apps that require manual input or provide limited insights, VitaMind utilizes AI to:
     - Interpret complex medical records and test results.
     - Offer personalized health recommendations.
     - Simulate lifestyle changes, allowing users to understand how diet, exercise, and other factors could impact their health.
   
   - **Target Audience**: VitaMind is specifically tailored for:
     - Individuals with chronic conditions who want proactive management tools.
     - Health-conscious users who seek data-driven insights into their wellbeing.
     - Those interested in understanding their health risks and exploring lifestyle modifications.

### **1.2. Main Features and Functionalities:**

VitaMind includes three core components: **Health Records Manager**, **Personal Health Coach**, and **Digital Twin**. Each feature addresses a specific need within the health management experience, offering users a centralized and cohesive platform.

#### **Health Records Manager**
- **User Data Input**: Users can enter personal health information, such as age, weight, and fitness level. They can upload medical records or lab results in PDF or image format, or fill out a structured form.
- **Document Handling**: Medical records are stored securely with end-to-end encryption, ensuring user privacy and data protection.
- **Data Parsing**: The AI engine parses and summarizes uploaded documents, explains medical terminology, and offers insights into test results. This feature provides users with accessible, understandable interpretations of complex medical data.
- **Risk Assessment**: Based on the user's data, VitaMind provides personalized risk assessments for conditions such as heart disease, diabetes, and hypertension, using risk scoring models and machine learning algorithms trained on relevant medical datasets.
- **Focus**: Emphasis is placed on accurate handling and analysis of PDFs, images, and structured data input formats to ensure comprehensive coverage of user-uploaded information.

#### **Personal Health Coach**
- **Feedback Schedule**: VitaMind provides daily health plans, notifications, and alerts specifically designed for users managing chronic diseases.
- **Health Focus**: Personalized health goals are established based on individual data and wellness priorities, with regular check-ins and motivational reminders.
- **Interactivity**: A chatbot allows users to ask freeform health questions, receiving simple, friendly explanations on complex topics. The AI responds to questions such as “What is my risk for diabetes?” using the latest data and health records to ensure accurate, context-driven responses.

#### **Digital Twin**
- **Simulation Depth**: The Digital Twin allows users to simulate potential lifestyle adjustments (e.g., diet changes, exercise routines) and assess their impact on health factors related to chronic diseases.
- **Focus**: The current focus is on managing heart disease, diabetes, blood glucose issues, and blood pressure, providing users with insights on how lifestyle modifications could influence their risk levels and health outcomes.
- **Update Frequency**: The model is designed to be updated frequently as users provide new health data or make changes, ensuring the simulations remain relevant and accurate.

#### **Lean Canvas Analysis**

- **Problem:**
  - Lack of accessible, affordable health management tools for individuals with chronic illnesses.
  - Limited access to personalized, AI-driven insights for preventive health and chronic disease management.
  - Complexity of interpreting medical data for non-professionals, which can impact proactive health measures.

- **Customer Segments:**
  - Individuals with chronic conditions (e.g., diabetes, hypertension) who want to actively manage their health.
  - Health-conscious users interested in preventive health and lifestyle management.
  - Caregivers and family members of chronically ill patients who assist with health management.
  - Potential partnerships with healthcare providers, clinics, and insurance companies looking for digital health solutions.

- **Unique Value Proposition:**
  - **Personal Health AI:** VitaMind combines a Personal Health Coach, Digital Twin simulation, and Health Records management in a single platform, making personalized healthcare insights available to anyone.
  - **Preventive and Predictive Focus:** The AI-driven insights and predictive simulations empower users to make proactive decisions and reduce health risks through lifestyle adjustments.
  - **User-Friendly Interface:** Designed for non-experts, VitaMind simplifies complex medical data, making it accessible and actionable for everyday users.

- **Solution:**
  - **AI Health Coach:** A conversational AI providing personalized advice and answers to user queries related to health, lifestyle, and disease management.
  - **Digital Twin Simulation:** An interactive feature allowing users to simulate lifestyle adjustments (e.g., diet, exercise) and view the predicted health impacts over time.
  - **Health Records Management:** A secure upload and analysis tool for medical records, enabling users to store, parse, and interpret their health data within the app.

- **Channels:**
  - Mobile application and web platform for direct user access.
  - Partnerships with clinics, healthcare providers, and insurance companies to integrate VitaMind as an additional service for their patients.
  - Digital marketing via social media, healthcare forums, and partnerships with health influencers to reach target users.
  - Paid ads targeting users searching for health management and chronic disease solutions.

- **Revenue Streams:**
  - **Subscription Model:** Monthly or annual subscription fees for premium features such as advanced digital twin simulations, in-depth health coaching, and additional storage for health records.
  - **Freemium Model:** Free basic features with in-app purchases or upgrades to access premium functionalities.
  - **Partnership and Licensing Fees:** Revenue from healthcare providers and insurance companies that offer VitaMind to patients as a part of their wellness programs.

- **Cost Structure:**
  - **Development and Maintenance:** Continuous development of the mobile app and web platform, including software updates and AI model improvements.
  - **AI and Data Processing Infrastructure:** Costs associated with maintaining secure, scalable AI-driven data analysis and storage.
  - **Compliance and Legal:** HIPAA and GDPR compliance, legal consultation, and data protection measures.
  - **Marketing and Customer Acquisition:** Advertising, promotions, content creation, and partnership development.
  - **Customer Support and User Education:** Dedicated customer support for users, onboarding tutorials, and educational materials for understanding platform usage.

- **Key Metrics:**
  - **User Growth Rate:** Monthly and yearly growth of active users on the platform.
  - **Retention Rate:** Percentage of users continuing subscriptions or remaining active over time.
  - **Engagement Rate:** Frequency of interactions with AI Health Coach, digital twin simulations, and health records features.
  - **Revenue Metrics:** Monthly recurring revenue (MRR) and annual recurring revenue (ARR) from subscriptions and partnerships.
  - **Customer Satisfaction:** Measured through feedback forms, reviews, and net promoter score (NPS) to gauge overall user satisfaction and loyalty.

- **Unfair Advantage:**
  - **Proprietary AI Algorithms:** Custom algorithms fine-tuned for interpreting complex health records and providing accurate, relevant simulations based on the latest medical guidelines.
  - **Partnerships with Trusted Health Sources:** Collaborations with well-known medical organizations and publications to validate health recommendations.
  - **Secure Data Privacy Measures:** Built-in privacy and security measures that exceed industry standards, fostering user trust and compliance with health data regulations.

![image](https://github.com/user-attachments/assets/aa65a62d-38a3-4df0-b452-65328321943e)

### **1.3. Design and User Experience:**

### **1.3.1 Overview of User Flow**

The user flow is structured around VitaMind’s three core functionalities: Health Records, Health Coach, and Digital Twin. Each section’s interface should be intuitive, visually appealing, and highly responsive, providing a seamless experience.

#### **Landing Page / Dashboard**
   - **Objective**: The landing page serves as the dashboard, displaying each primary feature—Health Records, Health Coach, and Digital Twin—within easy reach. This gives users a sense of control and understanding of available tools from the outset.
   
   - **Design Elements**:
     - **Navigation Bar**: A top navigation bar with links to Home, Profile, Settings, and Log Out ensures users can navigate back to their personal data or logout securely.
     - **Feature Cards**: The three primary features (Health Records, Health Coach, Digital Twin) are displayed as clickable cards or tiles, each with an icon and brief description.
     - **Quick-Access Buttons**: Buttons like “Upload Records,” “Ask the Coach,” and “Run Simulation” provide direct access to key functions without overwhelming the interface.

   - **User Flow**:
     1. **Entry Point**: User logs in and lands on the dashboard.
     2. **Feature Selection**: User selects a feature, which navigates them to either upload health records, interact with the health coach, or set up simulations with the digital twin.

#### **Health Records Upload**
   - **Objective**: Users can upload medical records and health information securely, with VitaMind’s AI parsing and analyzing the data to provide insights.
   
   - **Design Elements**:
     - **Upload Interface**: A clear, step-by-step upload process supports PDF and image formats. Users are guided through each step, including file selection, confirmation, and final upload.
     - **Secure Uploads**: Security is visually reinforced through icons or messaging (e.g., “End-to-End Encryption Enabled”) to reassure users that their sensitive information is protected.
     - **Data Review and Parsing**: After upload, users see an analysis preview screen where the AI parses information and provides summaries, highlights important metrics, and explains medical terms.

   - **User Flow**:
     1. **File Selection**: User selects “Upload Records” from the dashboard, accesses the upload screen, and chooses a PDF or image file.
     2. **Upload Confirmation**: After selecting a file, the system shows a confirmation prompt before securely uploading.
     3. **Parsed Output Display**: The AI processes the document, displaying insights such as flagged conditions, risk levels, and recommended next steps.

#### **Interactivity with Health Coach**
   - **Objective**: The Health Coach functions as a conversational AI that responds to user questions and offers tailored health advice.
   
   - **Design Elements**:
     - **Chat Interface**: A conversational UI where users can ask freeform health questions or select from suggested prompts (e.g., “How can I reduce my blood pressure?”).
     - **Custom Responses**: The chatbot provides responses based on the user’s personal health data, explaining complex terms in layman’s terms.
     - **Secure and Private Communication**: The chat interface displays a security badge (e.g., “Private and Secure”) ensuring user confidence.

   - **User Flow**:
     1. **Question Submission**: User accesses the Health Coach interface from the dashboard, enters a question or selects a prompt.
     2. **AI Response**: The AI analyzes the question, references relevant user data, and provides a response.
     3. **Follow-Up Suggestions**: The coach may offer further recommendations or link back to other features (e.g., “Based on your cholesterol level, consider running a digital twin simulation”).

#### **Digital Twin Simulations**
   - **Objective**: This feature allows users to simulate lifestyle changes and visualize the potential impact on their health.
   
   - **Design Elements**:
     - **Interactive Settings Panel**: Users can adjust parameters such as diet, exercise frequency, and sleep hours to see predicted health outcomes.
     - **Real-Time Visualizations**: Simulations display graphical representations of how specific changes could influence risk factors (e.g., heart disease, diabetes).
     - **Feedback Alerts**: Color-coded indicators show positive or negative impacts based on the simulated changes (e.g., green for improvement, red for risk increase).

   - **User Flow**:
     1. **Simulation Setup**: User accesses the Digital Twin, selects a health metric (e.g., blood pressure), and adjusts lifestyle variables.
     2. **Run Simulation**: User starts the simulation, and real-time visual feedback shows the predicted outcome.
     3. **Summary and Recommendations**: The AI provides insights based on results, possibly directing the user to resources for lifestyle changes.

### **1.3.2 Visual Content Recommendations**

For an engaging and user-friendly experience, visual aids like wireframes, walkthrough videos, and annotated images can guide users effectively.

#### **Mockups and Wireframes**
   - **Dashboard Wireframe**: Display the layout of main feature tiles, the navigation bar, and quick-access buttons.
   ![Dashboard1](/images/dashboard_main.png)
   ![Dashboard2](/images/dashboard_health_Insight.png)
   ![Dashboard3](/images/dashboard_recent_activity.png)

   - **Health Records Upload Screen**: Show file selection options, a step-by-step guide, and a secure upload indicator.
   ![HealthRecord1](/images/health_records1.png)
   ![HealthRecord2](/images/health_records2.png)
   ![HealthRecord3](/images/health_records3.png)
   ![HealthRecord4](/images/health_records4.png)
   ![HealthRecord5](/images/health_records5.png)
   ![HealthRecord6](/images/health_records6.png)
   ![HealthRecord7](/images/health_records7.png)
   ![HealthRecord8](/images/health_records8.png)
   ![HealthRecord9](/images/health_records9.png)

   - **Health Coach Chat Interface**: Mockup of the chat window with sample prompts and a displayed AI response.
   ![HealthCoach](/images/health_coach.png)
   ![HealthCoach2](/images/health_coach2.png)

   - **Digital Twin Simulation Panel**: Interactive sliders for lifestyle adjustments and visualizations of simulated health outcomes.
   ![DigitalTwin](/images/digital_twins.png)

#### **Video Walkthrough Script**
   - A short video walkthrough of the main features can help users get started and understand the app’s functionality.

   - **Script Outline**:
     1. **Intro Screen**: Display VitaMind’s logo with a tagline: “Your Personal Health Companion.”
     2. **Dashboard Tour**: Briefly show each feature tile on the dashboard, highlighting the Health Records, Health Coach, and Digital Twin.
     3. **Health Records Upload**:
        - Narrate: “Let’s start by uploading a health record. Select the file type, follow the steps, and rest assured, all your data is securely encrypted.”
        - Action: Show user selecting a file, confirming upload, and viewing the AI’s parsed output.
     4. **Health Coach Interaction**:
        - Narrate: “Got questions? Ask our Health Coach for advice. Just type in your question or choose from suggested prompts.”
        - Action: Demonstrate a user typing a question about their risk for diabetes, receiving a response with risk analysis and recommendations.
     5. **Digital Twin Simulation**:
        - Narrate: “Curious about lifestyle changes? Use our Digital Twin to simulate different choices and see potential health impacts.”
        - Action: Show user adjusting sliders for diet and exercise, with real-time visual feedback on projected health outcomes.
     6. **Ending**: Close with a reminder about privacy: “VitaMind is here to support you. Remember to consult with your healthcare provider before making any health decisions.”

#### **User Feedback Annotations**
   - **Dashboard**: Annotations like “Access all features easily” or “Secure navigation.”
   - **Health Records Upload**: “Upload files securely” or “AI summarizes medical terms.”
   - **Digital Twin**: “Adjust settings to see potential impacts” or “Immediate feedback on risk factors.”

### **1.3.3 UI and UX Enhancements**

To ensure an accessible and intuitive user experience, the following elements should be prioritized:

   - **Security Emphasis**: Reassuring messages (e.g., “Your data is protected”) are visible across the dashboard, chat interface, and upload screens.
   - **Accessibility**: Provide alternative text for images and ensure compatibility with screen readers. For visually impaired users, incorporate keyboard shortcuts for navigation.
   - **User Onboarding**: A brief tutorial or “Getting Started” guide upon first login to help users understand VitaMind’s functionality.
   - **Visual Cues**: Employ color-coding for risks (e.g., red for high, green for optimal) and progress indicators during uploads or simulations to enhance usability.
   - **Feedback Mechanisms**: Integrate a “Give Feedback” button, allowing users to report issues or request new features easily.

### **1.4. Installation Instructions:**

   - Follow these instructions to set up VitaMind on a local development environment.

   - **Prerequisites**:
     - Install the necessary libraries and tools:
       - **Python 3.8+** for backend services.
       - **Node.js** for frontend development.
       - **Docker** (optional) for containerized deployment.
   
   - **Frontend and Backend Setup**:
     - **Frontend**: Navigate to the frontend directory and run:
       ```bash
       npm install
       npm start
       ```
     - **Backend**: Navigate to the backend directory and run:
       ```bash
       pip install -r requirements.txt
       python manage.py migrate
       python manage.py runserver
       ```
   
   - **Database Configuration**:
     - Set up a local database (e.g., PostgreSQL or SQLite) and configure environment variables.
     - Apply migrations:
       ```bash
       python manage.py migrate
       ```
     - Seed initial data if required:
       ```bash
       python manage.py loaddata initial_data.json
       ```
   
   - **Environment Variables**:
     - Create an `.env` file in the root directory with required variables (database credentials, API keys).
     - **Example**:
       ```plaintext
       DB_NAME=vita_db
       DB_USER=username
       DB_PASSWORD=password
       SECRET_KEY=your_secret_key_here
       ```
   
   - **Running the Application**:
     - For a quick start, you can run the backend and frontend simultaneously if Docker is configured:
       ```bash
       docker-compose up
       ```
     - Alternatively, start each service separately as described above.

   - **Optional Troubleshooting**:
     - If issues arise, refer to the common troubleshooting guide in the repository (link pending) or consult the installation FAQ.

---

## 2. System Architecture

### **2.1. Architecture Diagram**

Below is a description of the system architecture in a verbal format, outlining the interaction between major components:

The system follows a **microservices-based architecture**. The main services include:
1. **Frontend Service**: Web and mobile interfaces for user interaction.
2. **Backend Service**: A RESTful API that handles business logic, user requests, and data processing.
3. **AI/ML Service**: A dedicated microservice for managing AI-driven health insights, risk assessments, and digital twin simulations.
4. **Data Storage Service**: Secure databases for user health data, encrypted medical records, and interaction logs.
5. **Authentication & Authorization Service**: Manages user login, role-based access control, and token generation.
6. **Logging and Monitoring Service**: Ensures system reliability, monitors activity, and provides real-time alerts.

**Choice Rationale**:  
The microservices pattern enables **scalability, modularity,** and **fault isolation**. Each service is isolated, making it easy to scale or update components independently without affecting other services. This architecture is well-suited for healthcare applications, where data security, reliability, and performance are critical. 

**Potential Drawbacks**:
- Increased complexity in managing distributed services.
- Higher resource requirements, especially for API management and inter-service communication.

**Tech Stacks**:
For the VitaMind project, this technology stack emphasizes scalability, modularity, and high security, aligning with healthcare industry standards:

- Node.js and Python 3.8+ for backend and AI services provide a flexible, high-performance environment for handling both real-time interactions and complex AI workflows.
- React and React Native deliver a consistent user experience across web and mobile platforms.
- OpenAI APIs combined with LangChain and RAG models maximize AI’s capacity for generating health insights while ensuring accurate, context-aware responses.
- Docker containers ensure consistent deployment and easy management of microservices, especially critical in a multi-environment architecture.
- AWS provides a secure and scalable cloud infrastructure, meeting HIPAA and GDPR requirements, with services like Cognito, RDS, and S3 for streamlined data handling and compliance.

This approach ensures VitaMind’s architecture remains secure, adaptable, and future-proof, supporting the project’s growth and evolving healthcare needs.

![alt text](/images/architecture_design.png)

### **2.2. Main Use Cases**

1. **Health Records Upload and Parsing**
   - **User Roles**: 
     - **User**: Uploads health records and views parsed insights.
     - **AI Service**: Processes and extracts key data points from the uploaded records.
   - **Actions**:
     - User uploads a PDF/image of medical records.
     - Backend Service verifies file format and security, forwards it to the AI/ML Service.
     - AI Service extracts relevant health insights, anonymizes sensitive data, and stores it securely.
     - User views a summary of insights in the UI.
   - **Dependencies**: 
     - Backend relies on AI/ML service for data parsing.
     - All data passes through the security layer for compliance with privacy policies.

```mermaid
---
title: Health Records Upload and Parsing System
---
flowchart TB
    User((User))
    AI((AI Service))
    Security[[Security Layer]]
    Backend[[Backend Service]]
    
    subgraph System Boundary
        UploadRecords[Upload Health Records]
        VerifyFiles[Verify File Format]
        ProcessData[Process Health Data]
        AnonymizeData[Anonymize Data]
        StoreData[Store Data Securely]
        ViewInsights[View Health Insights]
    end
    
    User --> UploadRecords
    User --> ViewInsights
    
    UploadRecords --> VerifyFiles
    VerifyFiles --> Security
    Security --> ProcessData
    
    ProcessData --> AnonymizeData
    AnonymizeData --> StoreData
    StoreData --> ViewInsights
    
    AI --> ProcessData
    AI --> AnonymizeData
    
    %% Dependencies
    Backend --> AI
    Backend --> Security
```         

2. **Personal Health Coach Interactivity**
   - **User Roles**:
     - **User**: Interacts with the AI Health Coach to receive health recommendations.
     - **AI Service**: Provides personalized responses and health recommendations.
   - **Actions**:
     - User asks health-related questions.
     - Backend Service relays the query to the AI/ML Service.
     - AI Service generates a response based on stored health data and medical knowledge sources.
     - Response is displayed to the user with action recommendations or health guidance.
   - **Dependencies**: 
     - Backend depends on AI Service for generating accurate recommendations.
     - Real-time data encryption ensures sensitive health information is secure.

```mermaid
---
title: Personal Health Coach System
---
flowchart TB
    User((User))
    AI((AI Health Coach))
    Backend[[Backend Service]]
    Security[[Encryption Layer]]

    subgraph System Boundary
        AskQuestions[Ask Health Questions]
        ProcessQuery[Process Query]
        AccessData[Access Health Data]
        GenerateResponse[Generate Recommendations]
        DisplayResponse[View Health Guidance]
        VerifyEncryption[Verify Data Security]
    end

    User --> AskQuestions
    User --> DisplayResponse

    AskQuestions --> ProcessQuery
    ProcessQuery --> Security
    Security --> AccessData
    AccessData --> GenerateResponse
    GenerateResponse --> VerifyEncryption
    VerifyEncryption --> DisplayResponse

    AI --> GenerateResponse
    AI --> AccessData

    %% Dependencies
    Backend --> AI
    Backend --> Security

    %% Additional relationships
    AccessData -.-> |"Uses Stored\nHealth Data"| GenerateResponse
    GenerateResponse -.-> |"Uses Medical\nKnowledge Base"| DisplayResponse
```

3. **Digital Twin Simulation**
   - **User Roles**:
     - **User**: Simulates lifestyle changes and views potential health outcomes.
     - **AI Service**: Runs simulation algorithms based on user-inputted lifestyle changes.
   - **Actions**:
     - User adjusts factors (diet, exercise) and triggers simulation.
     - Backend requests AI Service to model health outcomes based on input.
     - AI Service returns predicted health outcomes.
     - User views visual simulation results.
   - **Dependencies**:
     - Backend interacts with AI Service to generate simulations and validate data.
     - Data anonymization practices ensure simulated results are privacy-compliant.

```mermaid
---
title: Digital Twin Health Simulation System
---
flowchart TB
    User((User))
    AI((AI Service))
    Backend[[Backend Service]]
    Privacy[[Privacy Layer]]

    subgraph System Boundary
        InputFactors[Input Lifestyle Factors]
        TriggerSim[Trigger Simulation]
        AnonymizeData[Anonymize Data]
        RunSimulation[Run Health Simulation]
        GenerateOutcomes[Generate Health Outcomes]
        DisplayResults[View Visual Results]
    end

    User --> InputFactors
    User --> TriggerSim
    User --> DisplayResults

    InputFactors --> AnonymizeData
    TriggerSim --> AnonymizeData
    AnonymizeData --> RunSimulation
    RunSimulation --> GenerateOutcomes
    GenerateOutcomes --> DisplayResults

    AI --> RunSimulation
    AI --> GenerateOutcomes

    %% Dependencies
    Backend --> AI
    Backend --> Privacy
    Privacy --> AnonymizeData

    %% Additional relationships
    InputFactors -.-> |"Diet & Exercise\nData"| RunSimulation
    RunSimulation -.-> |"Simulation\nAlgorithms"| GenerateOutcomes
    GenerateOutcomes -.-> |"Visual\nRepresentation"| DisplayResults
```

### **2.3. High-Level Project Description and Folder Structure**

The project is structured as follows:

- **/frontend**: Contains UI code for web and mobile versions, built using React (web) and React Native (mobile).
  - `/assets`: Stores images, fonts, and static files.
  - `/components`: Houses reusable UI components, such as forms and widgets.
  - `/pages`: Organizes pages for different views (e.g., Health Records, Health Coach, Digital Twin).
  
- **/backend**: Manages business logic and API services.
  - `/controllers`: Handles API request processing and routing.
  - `/models`: Defines data structures and interactions with the database.
  - `/services`: Contains helper functions and modules for inter-service communication.
  - `/middleware`: Implements security checks, including authentication and encryption.
  
- **/AI_service**: Dedicated to AI processing, including health record parsing, risk assessment, and digital twin algorithms.
  - `/models`: Includes pre-trained AI models and algorithms.
  - `/data`: Stores model-specific data like weights, configurations, and embeddings.
  
- **/db**: Manages secure data storage.
  - `/migrations`: Scripts to set up, modify, or drop database tables.
  - `/seeds`: Predefined data for testing and initialization.
  
- **/security**: Contains scripts and configurations for encryption, role-based access, and token management.
  
Here's a brief explanation of the main folders' purposes and the architectural patterns they follow:

1. **Layered Architecture**
   - Clear separation between presentation (`/frontend`), business logic (`/backend`), and data (`/db`)
   - Each layer has well-defined responsibilities and can evolve independently

2. **Microservices Architecture**
   - Services are decoupled (`/backend`, `/AI_service`)
   - Each service can be deployed and scaled independently
   - Inter-service communication via APIs

3. **MVC Pattern (Model-View-Controller)**
   - In backend: `/models` (data), `/controllers` (logic), and frontend acts as view
   - Clear separation of concerns

4. **Component-Based Architecture** (in frontend)
   - `/components`: Reusable components
   - `/pages`: Complete views built with components
   - Facilitates maintainability and reusability

5. **Security Principles**
   - Dedicated `/security` folder
   - Security middleware
   - Centralized authentication and authorization handling

6. **Clean Architecture**
   - Dependencies flow inward
   - Clear separation of concerns
   - Implementation details (UI, database) are in outer layers

There are several important architectural patterns and folders that could enhance the project structure. Here's what we could add:

1. **Testing Structure**
```
/tests
  /unit          # Unit tests for individual components/functions
  /integration   # Tests for component interactions
  /e2e          # End-to-end tests
  /performance  # Load and stress tests
  /fixtures     # Test data and mock objects
```

2. **Documentation Pattern**
```
/docs
  /api           # API documentation
  /architecture  # System design docs and diagrams
  /deployment    # Deployment guides
  /user-guides   # End-user documentation
```

3. **DevOps & Configuration**
```
/config
  /environments  # Environment-specific configurations
  /docker       # Docker configurations
  /kubernetes   # K8s deployment files
  
/scripts
  /deployment   # Deployment scripts
  /backup       # Backup procedures
  /monitoring   # Monitoring setup
```

4. **Logging & Monitoring**
```
/logging
  /metrics      # Application metrics
  /traces       # Distributed tracing
  /alerts      # Alert configurations
```

5. **API Versioning**
```
/backend
  /api
    /v1         # Version 1 endpoints
    /v2         # Version 2 endpoints
```

6. **Internationalization**
```
/frontend
  /locales      # Translation files
  /i18n        # i18n configuration
```

7. **Shared Code**
```
/shared
  /types        # Shared TypeScript interfaces
  /constants    # Common constants
  /utils        # Utility functions used across services
```

These additions would support:
- Quality Assurance through comprehensive testing
- Better maintainability through documentation
- DevOps practices and CI/CD
- Observability and monitoring
- API evolution
- Global market reach
- Code reusability  

```
/project-root
|-- frontend
|   |-- src
|   |   |-- assets
|   |   |   |-- images
|   |   |   |-- fonts 
|   |   |   `-- icons
|   |   |-- components
|   |   |   |-- shared
|   |   |   |-- forms
|   |   |   |-- layouts
|   |   |   `-- widgets
|   |   |-- pages
|   |   |-- hooks
|   |   |-- context
|   |   |-- styles
|   |   |-- utils
|   |   |-- services      # API calls
|   |   |-- locales      # i18n translations
|   |   |-- types        # TypeScript definitions
|   |   `-- constants
|   |-- public
|   `-- tests
|       |-- unit
|       |-- integration
|       |-- e2e
|       `-- fixtures
|
|-- backend
|   |-- src
|   |   |-- api
|   |   |   |-- v1
|   |   |   `-- v2
|   |   |-- controllers
|   |   |-- models
|   |   |-- services
|   |   |-- middleware
|   |   |   |-- auth
|   |   |   |-- validation
|   |   |   `-- error
|   |   |-- utils
|   |   |-- types
|   |   `-- constants
|   `-- tests
|       |-- unit
|       |-- integration
|       |-- performance
|       `-- fixtures
|
|-- AI_service
|   |-- src
|   |   |-- models
|   |   |   |-- training
|   |   |   `-- inference
|   |   |-- data
|   |   |   |-- raw
|   |   |   |-- processed
|   |   |   `-- embeddings
|   |   |-- pipelines
|   |   `-- utils
|   `-- tests
|       |-- unit
|       |-- integration
|       `-- model-validation
|
|-- db
|   |-- migrations
|   |-- seeds
|   |-- scripts
|   |-- backups
|   `-- models        # Database models/schemas
|
|-- security
|   |-- encryption
|   |-- auth
|   |-- certificates
|   |-- policies
|   `-- audit
|
|-- shared           # Code shared between services
|   |-- types
|   |-- constants
|   |-- utils
|   |-- interfaces
|   `-- schemas
|
|-- infrastructure
|   |-- docker
|   |   |-- development
|   |   `-- production
|   |-- kubernetes
|   |   |-- development
|   |   |-- staging
|   |   `-- production
|   `-- terraform    # Infrastructure as Code
|
|-- config
|   |-- development
|   |-- staging
|   |-- production
|   `-- testing
|
|-- scripts
|   |-- deployment
|   |-- backup
|   |-- monitoring
|   |-- database
|   `-- development  # Dev utilities
|
|-- docs
|   |-- api
|   |   |-- swagger
|   |   `-- postman
|   |-- architecture
|   |   |-- diagrams
|   |   `-- decisions  # Architecture Decision Records (ADR)
|   |-- deployment
|   |-- user-guides
|   `-- development
|
|-- monitoring
|   |-- metrics
|   |-- logs
|   |-- traces
|   |-- alerts
|   `-- dashboards
|
|-- tests           # Project-level tests
|   |-- e2e
|   |-- load
|   |-- security
|   |-- acceptance
|   `-- smoke
|
|-- .github         # CI/CD and GitHub specific
|   |-- workflows
|   |-- templates
|   `-- hooks
|
|-- .gitignore
|-- .dockerignore
|-- docker-compose.yml
|-- package.json
|-- README.md
|-- CHANGELOG.md
`-- LICENSE
```

1. **Better Frontend Organization**
   - Separated hooks and context
   - Dedicated styles directory
   - Clear separation of components

2. **Enhanced Backend Structure**
   - Versioned API endpoints
   - Better middleware organization
   - Type definitions included

3. **Improved Testing Strategy**
   - Service-specific tests
   - Project-level tests
   - Various test types (unit, integration, e2e, etc.)

4. **Complete Infrastructure Setup**
   - Docker and Kubernetes configs
   - Infrastructure as Code (Terraform)
   - Environment-specific configurations

5. **Comprehensive Documentation**
   - API documentation
   - Architecture diagrams
   - Development guides
   - ADRs for tracking decisions

6. **Monitoring & Observability**
   - Metrics collection
   - Logging
   - Tracing
   - Alerting

7. **Security Considerations**
   - Dedicated security module
   - Certificate management
   - Audit logging

8. **Development Tools**
   - Development scripts
   - CI/CD configuration
   - Git hooks

9. **Shared Resources**
   - Common types
   - Shared utilities
   - Cross-service interfaces

This structure supports:
- Scalability
- Maintainability
- Testing
- Documentation
- Security
- DevOps practices
- Monitoring
- Team collaboration

### **2.4. Infrastructure and Deployment**

#### Infrastructure Diagram
The infrastructure uses AWS as the primary hosting environment, with Docker containers to streamline deployments and ensure scalability.

1. **AWS EC2 Instances**: Hosts the frontend, backend, and AI/ML services in Docker containers.
2. **AWS RDS**: Manages secure databases (e.g., PostgreSQL) for structured user health data and records.
3. **AWS S3**: Stores uploaded health records, with encryption at rest.
4. **AWS IAM**: Provides role-based access control to manage permissions.
5. **AWS CloudWatch**: Monitors logs and triggers alerts for unusual activity.

![alt text](/images/aws_infra.png)

#### Deployment Process
1. **Development**: Code is developed and tested locally.
2. **CI/CD Pipeline**: GitHub Actions automates the CI/CD pipeline, testing and building Docker images for each service.
3. **Deployment**: Upon successful testing, Docker containers are deployed to AWS EC2.
4. **Monitoring**: AWS CloudWatch monitors logs and system metrics, alerting the team of potential issues.

![alt text](/images/deplyment.png)

### **2.5. Security**

1. **Data Encryption**: All health data and medical records are encrypted using AES-256 in transit and at rest.
2. **Authentication & Authorization**: Implemented via JWT for session management, with OAuth2.0 for API access and role-based access control (RBAC) for permissions.
3. **Data Anonymization**: User data is anonymized before being used for AI model training or simulations, complying with GDPR and HIPAA regulations.
4. **Input Validation**: Strict input validation ensures no harmful data is accepted, reducing security risks such as injection attacks.
5. **Monitoring & Auditing**: Continuous monitoring of system logs for unusual activity, with audit trails to track access and modifications to health data.

![alt text](/images/security.png)

### **2.6. Tests**

1. **Unit Testing**: Each microservice, especially the AI Service and backend endpoints, undergoes extensive unit testing to validate functionality.
2. **Integration Testing**: Tests interactions between frontend, backend, and AI Service to ensure they communicate as expected.
3. **End-to-End Testing**: Simulated user flows (e.g., health record upload, AI health recommendations) are tested to validate the entire system.
4. **Security Testing**: Vulnerability scanning and penetration testing ensure that sensitive data remains secure and protected.

![alt text](/images/tests.png)

---

## 3. Modelo de Datos

### **3.1. Diagrama del modelo de datos:**

> Recomendamos usar mermaid para el modelo de datos, y utilizar todos los parámetros que permite la sintaxis para dar el máximo detalle, por ejemplo las claves primarias y foráneas.


### **3.2. Descripción de entidades principales:**

> Recuerda incluir el máximo detalle de cada entidad, como el nombre y tipo de cada atributo, descripción breve si procede, claves primarias y foráneas, relaciones y tipo de relación, restricciones (unique, not null…), etc.

---

## 4. Especificación de la API

> Si tu backend se comunica a través de API, describe los endpoints principales (máximo 3) en formato OpenAPI. Opcionalmente puedes añadir un ejemplo de petición y de respuesta para mayor claridad

---

## 5. Historias de Usuario

> Documenta 3 de las historias de usuario principales utilizadas durante el desarrollo, teniendo en cuenta las buenas prácticas de producto al respecto.

**Historia de Usuario 1**

**Historia de Usuario 2**

**Historia de Usuario 3**

---

## 6. Tickets de Trabajo

> Documenta 3 de los tickets de trabajo principales del desarrollo, uno de backend, uno de frontend, y uno de bases de datos. Da todo el detalle requerido para desarrollar la tarea de inicio a fin teniendo en cuenta las buenas prácticas al respecto. 

**Ticket 1**

**Ticket 2**

**Ticket 3**

---

## 7. Pull Requests

> Documenta 3 de las Pull Requests realizadas durante la ejecución del proyecto

**Pull Request 1**
* https://github.com/eltonina/finalproject-JAA/pull/1

**Pull Request 2**

**Pull Request 3**

